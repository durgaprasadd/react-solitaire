(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,r,a){e.exports=a(18)},15:function(e,r,a){},16:function(e,r,a){},18:function(e,r,a){"use strict";a.r(r);var t=a(0),n=a.n(t),d=a(5),o=a.n(d),i=(a(15),a(1)),c=a(2),l=a(8),u=a(6),s=a(9),b=[{type:"spade",number:1,color:"black",unicode:"\ud83c\udca1"},{type:"spade",number:2,color:"black",unicode:"\ud83c\udca2"},{type:"spade",number:3,color:"black",unicode:"\ud83c\udca3"},{type:"spade",number:4,color:"black",unicode:"\ud83c\udca4"},{type:"spade",number:5,color:"black",unicode:"\ud83c\udca5"},{type:"spade",number:6,color:"black",unicode:"\ud83c\udca6"},{type:"spade",number:7,color:"black",unicode:"\ud83c\udca7"},{type:"spade",number:8,color:"black",unicode:"\ud83c\udca8"},{type:"spade",number:9,color:"black",unicode:"\ud83c\udca9"},{type:"spade",number:10,color:"black",unicode:"\ud83c\udcaa"},{type:"spade",number:11,color:"black",unicode:"\ud83c\udcab"},{type:"spade",number:12,color:"black",unicode:"\ud83c\udcad"},{type:"spade",number:13,color:"black",unicode:"\ud83c\udcae"},{type:"club",number:1,color:"black",unicode:"\ud83c\udcd1"},{type:"club",number:2,color:"black",unicode:"\ud83c\udcd2"},{type:"club",number:3,color:"black",unicode:"\ud83c\udcd3"},{type:"club",number:4,color:"black",unicode:"\ud83c\udcd4"},{type:"club",number:5,color:"black",unicode:"\ud83c\udcd5"},{type:"club",number:6,color:"black",unicode:"\ud83c\udcd6"},{type:"club",number:7,color:"black",unicode:"\ud83c\udcd7"},{type:"club",number:8,color:"black",unicode:"\ud83c\udcd8"},{type:"club",number:9,color:"black",unicode:"\ud83c\udcd9"},{type:"club",number:10,color:"black",unicode:"\ud83c\udcda"},{type:"club",number:11,color:"black",unicode:"\ud83c\udcdb"},{type:"club",number:12,color:"black",unicode:"\ud83c\udcdd"},{type:"club",number:13,color:"black",unicode:"\ud83c\udcde"},{type:"diamond",number:1,color:"red",unicode:"\ud83c\udcc1"},{type:"diamond",number:2,color:"red",unicode:"\ud83c\udcc2"},{type:"diamond",number:3,color:"red",unicode:"\ud83c\udcc3"},{type:"diamond",number:4,color:"red",unicode:"\ud83c\udcc4"},{type:"diamond",number:5,color:"red",unicode:"\ud83c\udcc5"},{type:"diamond",number:6,color:"red",unicode:"\ud83c\udcc6"},{type:"diamond",number:7,color:"red",unicode:"\ud83c\udcc7"},{type:"diamond",number:8,color:"red",unicode:"\ud83c\udcc8"},{type:"diamond",number:9,color:"red",unicode:"\ud83c\udcc9"},{type:"diamond",number:10,color:"red",unicode:"\ud83c\udcca"},{type:"diamond",number:11,color:"red",unicode:"\ud83c\udccb"},{type:"diamond",number:12,color:"red",unicode:"\ud83c\udccd"},{type:"diamond",number:13,color:"red",unicode:"\ud83c\udcce"},{type:"heart",number:1,color:"red",unicode:"\ud83c\udcb1"},{type:"heart",number:2,color:"red",unicode:"\ud83c\udcb2"},{type:"heart",number:3,color:"red",unicode:"\ud83c\udcb3"},{type:"heart",number:4,color:"red",unicode:"\ud83c\udcb4"},{type:"heart",number:5,color:"red",unicode:"\ud83c\udcb5"},{type:"heart",number:6,color:"red",unicode:"\ud83c\udcb6"},{type:"heart",number:7,color:"red",unicode:"\ud83c\udcb7"},{type:"heart",number:8,color:"red",unicode:"\ud83c\udcb8"},{type:"heart",number:9,color:"red",unicode:"\ud83c\udcb9"},{type:"heart",number:10,color:"red",unicode:"\ud83c\udcba"},{type:"heart",number:11,color:"red",unicode:"\ud83c\udcbb"},{type:"heart",number:12,color:"red",unicode:"\ud83c\udcbd"},{type:"heart",number:13,color:"red",unicode:"\ud83c\udcbe"}],h=function(){function e(r){var a=r.type,t=r.color,n=r.number,d=r.unicode;Object(i.a)(this,e),this.type=a,this.color=t,this.number=n,this.unicode=d,this.isBlockedCard=!1,this.actualUnicode=d,this.actualColor=t}return Object(c.a)(e,[{key:"getUnicode",value:function(){return this.unicode}},{key:"blockCard",value:function(){this.isBlockedCard=!0,this.unicode="\ud83c\udca0",this.color="black"}},{key:"revealCard",value:function(){this.isBlockedCard=!1,this.unicode=this.actualUnicode,this.color=this.actualColor}},{key:"isBlocked",value:function(){return this.isBlockedCard}}]),e}(),m=(a(16),function(){function e(){Object(i.a)(this,e),this.cards=[]}return Object(c.a)(e,[{key:"addCard",value:function(e){this.cards.push(e)}},{key:"addCards",value:function(e){var r=this;e.forEach(function(e){return r.addCard(e)})}},{key:"getLastCard",value:function(){return this.cards[this.cards.length-1]}},{key:"drawCard",value:function(){return this.cards.pop()}},{key:"drawCards",value:function(e){var r=this,a=new Array(e).fill(1);return(a=a.map(function(e){return r.drawCard()})).reverse(),a}},{key:"isDraggable",value:function(){return this.cards.length>0}},{key:"blockLastCard",value:function(){this.getLastCard().blockCard()}},{key:"revealLastCard",value:function(){this.getLastCard().revealCard()}}]),e}()),k=function(){function e(){Object(i.a)(this,e),this.deck=null,this.reservedPiles=[],this.showCardPile=null,this.stackPiles=[]}return Object(c.a)(e,[{key:"addShuffledPile",value:function(e){this.deck=e}},{key:"addReservedPile",value:function(e){this.reservedPiles.push(e)}},{key:"addStackPile",value:function(e){this.stackPiles.push(e)}},{key:"setShowCardPile",value:function(e){this.showCardPile=e}},{key:"changeCard",value:function(){this.showCardPile.addCard(this.deck.drawCard())}},{key:"drawCard",value:function(){return this.deck.drawCard()}},{key:"getTopMostCard",value:function(){return this.showCardPile.getLastCard()}},{key:"addCardToReservedPile",value:function(e,r){return(r=r.split("_")).includes("showCard")?this.reservedPiles[e].addCard(this.showCardPile.drawCard()):r.includes("reserved")?this.reservedPiles[e].addCard(this.reservedPiles[r[1]].drawCard()):this.reservedPiles[e].addCard(this.stackPiles[r[1]].drawCard())}},{key:"addCardToStackPile",value:function(e,r){return(r=r.split("_")).includes("showCard")?this.stackPiles[e].addCard(this.showCardPile.drawCard()):r.includes("reserved")?this.stackPiles[e].addCard(this.reservedPiles[r[1]].drawCard()):this.stackPiles[e].addCards(this.stackPiles[r[1]].drawCards(+r[2]))}},{key:"isDraggable",value:function(e){return e.isDraggable()}}]),e}(),p=a(7),v=a.n(p),y=new h({color:"black",unicode:"\ud83c\udca0"}),C=new h({color:"black",unicode:"\ud83c\udcdf"}),f=function(e){function r(e){var a;return Object(i.a)(this,r),(a=Object(l.a)(this,Object(u.a)(r).call(this,e))).state={game:a.initializeGame()},a}return Object(s.a)(r,e),Object(c.a)(r,[{key:"initializePile",value:function(){var e=new m;return v.a.shuffle(b).forEach(function(r){return e.addCard(new h(r))}),e}},{key:"initializeReservedPiles",value:function(e,r){for(var a=0;a<r;a++)e.addReservedPile(new m)}},{key:"initializeStackPiles",value:function(e,r){for(var a=0;a<r;a++){for(var t=new m,n=0;n<=a;n++)t.addCard(e.drawCard()),t.blockLastCard();t.revealLastCard(),e.addStackPile(t)}}},{key:"initializeGame",value:function(){var e=new k;return e.addShuffledPile(this.initializePile()),this.initializeReservedPiles(e,4),this.initializeStackPiles(e,7),e.setShowCardPile(new m),e}},{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"drag",value:function(e){e.dataTransfer.setData("id",e.target.id)}},{key:"dropInReservedPile",value:function(e,r){r.preventDefault();var a=r.dataTransfer.getData("id");this.setState(function(r){var t=r.game;return t.addCardToReservedPile(e,a),{game:t}})}},{key:"dropInStackPile",value:function(e,r){r.preventDefault();var a=r.dataTransfer.getData("id");this.setState(function(r){var t=r.game;return t.addCardToStackPile(e,a),{game:t}})}},{key:"changeCard",value:function(){this.setState(function(e){var r=e.game;return r.changeCard(),{game:r}})}},{key:"showTopMostCard",value:function(){var e=this.state.game.getTopMostCard();return e||(e=C),n.a.createElement("div",{id:"showCard",className:"card",style:this.getColor(e),draggable:this.state.game.showCardPile.isDraggable(),onDragStart:this.drag},e.getUnicode())}},{key:"showAllReservedPiles",value:function(){var e=this;return this.state.game.reservedPiles.map(function(r,a){var t=r.getLastCard();return t||(t=C),n.a.createElement("div",{className:"card",style:e.getColor(t),id:"reserved_"+a,onDrop:e.dropInReservedPile.bind(e,a),onDragOver:e.allowDrop,draggable:r.isDraggable(),onDragStart:e.drag},t.getUnicode())})}},{key:"getColor",value:function(e){return{color:e.color}}},{key:"showAllStackCards",value:function(e,r){var a=this,t=e.cards.length;return 0==t?n.a.createElement("div",{className:"stackCard"},C.getUnicode()):e.cards.map(function(d,o){return o+1===t&&d.revealCard(),d.isBlocked()?n.a.createElement("div",{className:"stackCard",style:a.getColor(d),draggable:"false"},d.getUnicode()):n.a.createElement("div",{id:"stackPile_"+r+"_"+(t-o),className:"stackCard",style:a.getColor(d),draggable:e.isDraggable(),onDragStart:a.drag}," ",d.getUnicode())})}},{key:"showAllStackPiles",value:function(){var e=this;return this.state.game.stackPiles.map(function(r,a){return n.a.createElement("div",{id:a,onDrop:e.dropInStackPile.bind(e,a),onDragOver:e.allowDrop,className:"stack"},e.showAllStackCards(r,a))})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"main"},n.a.createElement("div",{className:"deck"},n.a.createElement("div",{className:"card",onClick:this.changeCard.bind(this)},y.getUnicode()),this.showTopMostCard()),n.a.createElement("div",{className:"deck"},this.showAllReservedPiles())),n.a.createElement("div",{className:"stackPile"},this.showAllStackPiles()))}}]),r}(t.Component);o.a.render(n.a.createElement(f,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.c9d72714.chunk.js.map